■NestJS_メモ


①依存性注入(DI)

・newされるタイミング
アプリ起動時（Nestアプリケーションがブートストラップされるとき）に DIコンテナ（正確にはInjector）が new して管理

フロントからリクエストが来たタイミングではなくて、
アプリを立ち上げたとき（main.tsでapp.listen()するとき）に、
必要なプロバイダー（ServiceとかRepositoryとか）をまとめてnewして、インスタンスを持つ



・注入されるタイミング
クラス（ControllerやService）が初めて使われるときに、DIコンテナから取り出して渡される

注入フロー
Controllerをルーティング登録する

Controllerの中に依存するServiceが必要

DIコンテナにそのServiceが登録されてるから取り出して、コンストラクタ引数に渡してnewする


コンストラクタ呼び出し時点で注入される

自分でnewせず、Nestがnewして注入する










































